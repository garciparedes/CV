sudo: required

dist: trusty

addons:
  apt:
    update: true
    packages:
    - libfontconfig1-dev
    - libgraphite2-dev
    - libharfbuzz-dev
    - libicu-dev
    - zlib1g-dev
    - rustc
    - cargo


cache:
  apt: true


before_script:
  - cargo install tectonic

script:
  - mkdir _build
  - tectonic -output-directory _build garciparedes-cv.tex

deploy:
  provider: releases
  file:
    - _build/garciparedes-cv.pdf
  skip_cleanup: true
  on:
    tags: true
